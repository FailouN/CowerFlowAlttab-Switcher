<Application x:Class="CoverflowAltTab.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:tb="http://www.hardcodet.net/taskbar"
             ShutdownMode="OnExplicitShutdown">

    <Application.Resources>

        <!-- Глобально задаём иконку всем окнам приложения -->
        <Style TargetType="{x:Type Window}">
            <Setter Property="Icon" Value="pack://application:,,,/resources/app_icon.ico"/>
        </Style>

        <!-- Трей-иконка (WPF, без WinForms) -->
        <tb:TaskbarIcon x:Key="TrayIcon"
                        IconSource="pack://application:,,,/resources/app_icon.ico"
                        ToolTipText="CoverflowAltTab">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Настройки 3D" Click="Tray_OpenSettings_Click"/>
                    <Separator/>
                    <MenuItem Header="Выход" Click="Tray_Exit_Click"/>
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>

    </Application.Resources>
</Application>
